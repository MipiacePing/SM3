## SM3 from openssl



openssl中，有关SM3的实现是套用了Hash函数的模板，即MD结构的函数，使用宏函数来减少函数调用。

其中有关SM3的个性函数都在sm3local.h中给了声明，尤其是SM3中，对于CF函数的各种小操作，都定义成了宏函数。

openssl并没有使用simd指令去尝试并行SM3，而是选择减少中间变量，充分利用函数流水的方式，将展开利用到了极致。

我们知道SM3算法中，需要对64字节的一个block进行消息拓展，但是宏观来看，其实就是对原来消息的线性变化，同时ABCDEFGH等寄存器，也是不断的经历线性变换。

